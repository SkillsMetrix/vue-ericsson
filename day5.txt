<script setup>
import {ref,computed} from 'vue'

const emit= defineEmits(['search-city'])

const inputCity= ref('')

const searchDisabled= computed(()=>{
    if(inputCity.value){
        return false
    }
    return true
})
const clearDisabled= computed(()=>{
    if(inputCity.value){
        return false
    }
    return true
})

const searchCity=()=>{
    console.log('called');
    
    emit('search-city',inputCity.value)
}
const clearCity=()=>{
    inputCity.value=''
}
</script>
<template>
    <div class="city-search">
        <div class="city-search-title">
            <h2>Weather Search</h2>
        </div>
        <div class="city-search-input">
            <label for="cityInput">City:</label>
            <input type="text" id="cityInput" v-model="inputCity" placeholder="Enter City name">
            <br>
            <div class="city-search-buttons">
                <button type="submit" v-on:click="searchCity" v-bind:disabled="searchDisabled">
                    Search
                </button>
                <button type="reset" v-on:click="clearCity" v-bind:disabled="searchDisabled">
                    Clear
                </button>
            </div>
        </div>
    </div>
</template>

<style>

.city-search{
    margin: auto;
}
.city-search-title h2{
    text-align: center;
    margin-bottom: 0.5em;
}
.city-search-buttons{
    text-align: center;
}
.city-search-input{
    text-align: center;
}
.city-search-input label{
    font-size: 1.35em;
    margin-right: 0.5em;
}

</style>

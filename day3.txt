

<script setup lang="ts">
import {onMounted, ref} from 'vue'
import { User, getUsers } from "../services/UserService";

const users=ref<User[]>([])

const loadUsers=async()=>{
    try{
        users.value=await getUsers()
    }catch(error){}
}
onMounted(loadUsers)
</script>

<template>
    <div class="container">
<h3>User Details</h3>
<ul v-if="users.length">
    <li v-for="user in users" :key="user.id">
        <strong>{{ user.uname }}---{{ user.email }}</strong>
    </li>
</ul>
    </div>
</template>


------------

import axios from "axios";

const API_URL="http://localhost:3000/users"

export interface User {
    uname: string;
    email: string;
    password: string;
  }

export const registerUser=async(user:User) =>{
    return await axios.post(API_URL,user)
}

export const getUsers=async():Promise<User[]>=>{
  const response= await axios.get<User[]>(`${API_URL}`)
  return response.data
}

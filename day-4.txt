import { Directive } from "vue";

const tempDir: Directive = {
    mounted(el: HTMLInputElement) {
        el.addEventListener('input', () => {
            const celsius = parseFloat(el.value)
            if (!isNaN(celsius)) {
                const fah = (celsius * 9) / 5 + 32
                el.value = `${fah.toFixed(2)} F`
            } else {
                el.value = ""
            }
        })
    },
    unmounted(el: HTMLInputElement) {
        el.removeEventListener('input', () => { })
    }
}
export default tempDir


-------------


<template>
  <p v-color="'red'">Welcome to directive</p>
  <p v-color="textColor">Welcome to directive</p>
  <button @click="textColor = 'green'">change</button>

  <hr />
  <p>Using TextBox</p>
  <input type="text" v-model="useColor" v-txtcolor placeholder="Enter Color" />

  <hr />
  <p>Temp Converter</p>
  <input
    type="text"
    v-model="tc"
    v-tempdir
    placeholder="Enter Temp in celsius"
  />
</template>

<script setup lang="ts">
import { ref } from "vue";
const textColor = ref("blue");
const useColor = ref("");
const tc = ref("");
</script>

<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>

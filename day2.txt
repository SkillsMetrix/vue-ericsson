<template>
  <div>
    <h2>Sending messages</h2>
    <button @click="sendMessage">Send</button>
  </div>
</template>

<script setup>
import eventBus from "./eventBus";
const sendMessage = () => {
  eventBus.emit("messageEvent", "Mail from sender....!");
};
</script>

<style scoped></style>


-------------

<template>
  <div>
    Reciever
    <p>{{ message }}</p>
  </div>
</template>

<script setup lang="ts">
import { onMounted, ref } from "vue";
import eventBus from "./eventBus";
// alternative to data() in usual codes
const message = ref("");

const recieveMessage = (msg: string) => {
  message.value = msg;
};
onMounted(() => {
  eventBus.on("messageEvent", recieveMessage);
});
</script>

<style scoped></style>


-----------------


import mitt from 'mitt'

type Events={
    messageEvent:string
}

const eventBus= mitt<Events>()

export default eventBus
